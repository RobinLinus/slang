"use strict";window.Capira=window.Capira||{},window.Capira.Logicslang={evalLogic:function(t,i){var e=new LogicParser(this.matchPair);return e.eval(t,i)}},LogicParser=function(t){this.evalInput=t},LogicParser.prototype.eval=function(t,i){return this.tokens=this.getTokens(t),this.givenValue=i,this.expression()},LogicParser.prototype.getTokens=function(t){var i=[];return i=t.split(/(#and|#or|#not|<|>)/),i=i.map(function(t){return t.trim()}),i=i.filter(function(t){return t.length>0})},LogicParser.prototype.expression=function(){if("#not"==this.tokens[0])return this.tokens.shift(),!this.terminal();var t=this.terminal();if("#and"==this.tokens[0]||"#or"==this.tokens[0]){var i=this.tokens.shift(),e=this.terminal();return"#and"==i?t&&e:t||e}return t},LogicParser.prototype.terminal=function(){var t=this.tokens.shift();if("<"==t){value=this.expression();var i=this.tokens.shift();if(">"!=i)throw"ERROR: Mismatched parentheses";return value}if(">"==t)throw"ERROR: Mismatched parentheses";return this.evalInput(t,this.givenValue)};