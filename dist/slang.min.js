"use strict";function Imag(){}function I(){}function Lex(){}function match(n,e){try{return Lex.empty(n)||Lex.empty(e)?!1:(n=Seman.present(n),e=Seman.present(e),n.calc()==e.calc()?!0:(n=n.simplify(3),e=e.simplify(3),n.string()==e.string()))}catch(t){return!1}}function matchSyntax(n,e){try{return Lex.empty(n)||Lex.empty(e)?!1:(n=Syntax.present(n),e=Syntax.present(e),Syntax.string(n)==Syntax.string(e))}catch(t){return!1}}function matchApprox(n,e,t){"number"==typeof n&&(n=""+n),"number"==typeof e&&(e=""+e);try{return Lex.empty(n)||Lex.empty(e)?!1:(n=Seman.present(n).calc(),e=Seman.present(e).calc(),isNaN(n)||isNaN(e)?!1:Math.abs(n-e)<=t)}catch(t){return!1}}function Seman(){}function Syntax(){}var Slang=Slang||{};Slang.colorslang=function(){function n(n,t){return n===e(t)}function e(n){return"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1)}return{compare:n}}();var Slang=Slang||{};Slang.hausdorffslang=function(){function n(n,e,t,a,i){var u=o(n,e,t,a,i);return 1-Math.max(r(u.X,u.Y),r(u.Y,u.X))}function e(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.sqrt(t*t+r*r)}function t(n,t){return t.reduce(function(t,r){var a=e(n,r);return t>a?a:t},1/0)}function r(n,e){return n.reduce(function(n,r){var a=t(r,e);return a>n?a:n},0)}function a(n){var e=n.reduce(function(n,e){return{x0:n.x0+e.x,y0:n.y0+e.y}},{x0:0,y0:0});return e.x0/=n.length,e.y0/=n.length,e}function i(n,e,t,r){var a=t?e.x0:0,i=r?e.y0:0;return n.map(function(n){return{x:n.x-a,y:n.y-i}})}function u(n){return n.reduce(function(n,e){return{xmax:Math.max(e.x,n.xmax),xmin:Math.min(e.x,n.xmin),ymax:Math.max(e.y,n.ymax),ymin:Math.min(e.y,n.ymin)}},{xmax:-(1/0),ymax:-(1/0),xmin:1/0,ymin:1/0})}function s(n,e,t,r){var a=Math.abs(e.xmax-e.xmin),i=Math.abs(t.xmax-t.xmin),u=Math.abs(e.ymax-e.ymin),s=Math.abs(t.ymax-t.ymin),o=i/a,c=s/u,f=2*o*c/(o+c);return n.map(function(n){return{x:r.x0+(r.x0-n.x)/f,y:r.y0+(r.y0-n.y)/f}})}function o(n,e,t,r,o){if(t||r||o){var c=a(n),f=a(e);if(o){var h=u(n),m=u(e);e=s(e,h,m,f)}(t||r)&&(n=i(n,c,t,r),e=i(e,f,t,r))}return{X:n,Y:e}}return{compare:n}}();var Slang=Slang||{};Slang.langslang=function(){function n(n,t){return Slang.logicslang.compare(n,t,e)}function e(n,e){if(n=n.trim(),e=e.trim(),0!==n.indexOf("#"))return n===e;var a=n.substr(1,n.indexOf(" ")-1);return n=n.substr(n.indexOf(" ")+1),"typo"===a?t(r(n),r(e)):"nocase"===a?r(n)===r(e):"regex"===a?(n=new RegExp(n),n.test(e)):void 0}function t(n,e){var t=Slang.langslang._damerauLevenshtein(n,e);return t<Math.ceil(Math.sqrt(n.length)-1)}function r(n){return n.toLowerCase()}return{compare:n}}(),Slang.langslang._damerauLevenshtein=function(n,e){var t=[];if(n==e)return 0;if(0==n.length)return e.length;if(0==e.length)return n.length;for(var r=0;r<n.length+1;r++){t[r]=[];for(var a=0;a<e.length+1;a++)0==r||0==a?t[r][a]=Math.max(r,a):(t[r][a]=Math.min(t[r-1][a]+1,t[r][a-1]+1,t[r-1][a-1]+(n[r-1]==e[a-1]?0:1)),a>1&&r>1&&n[r-1]==e[a-2]&&n[r-2]==e[a-1]&&(t[r][a]=Math.min(t[r][a],t[r-2][a-2]+1)))}return t[n.length][e.length]};var Slang=Slang||{};Slang.logicslang={compare:function(n,e,t){var r=new LogicParser(t);return r.compare(n,e)}};var LogicParser=function(n){function e(n){var e=[];return e=n.split(/(#and|#or|#not|<|>)/),e=e.map(function(n){return n.trim()}),e=e.filter(function(n){return n.length>0})}function t(){if("#not"==a[0])return a.shift(),!r();var n=r();if("#and"===a[0]||"#or"===a[0]){var e=a.shift(),t=r();return"#and"===e?n&&t:n||t}return n}function r(){var e=a.shift();if("<"===e){var r=a.shift();if(">"!==r)throw u;return t()}if(">"===e)throw u;return n(e,i)}var a=[],i="",u="ERROR: Mismatched parentheses";this.compare=function(n,r){return a=e(n),i=r,t()}},Slang=Slang||{};Slang.mathslang={compare:function(n,e){return Slang.logicslang.compare(n,e,this._compare)},_compare:function(n,e){if(e+="",n+="",e=e.trim(),n=n.trim(),0===n.indexOf("#")){var t=n.substr(1,n.indexOf(" ")-1);switch(n=n.substr(n.indexOf(" ")+1),t){case"equals":return match(n,e);case"identic":return matchSyntax(n,e);case"approx":var r=n.split("#epsilon");return matchApprox(r[0],e,r[1]);case"lt":return Number.parseFloat(e)<Number.parseFloat(n);case"leq":return Number.parseFloat(e)<=Number.parseFloat(n);case"gt":return Number.parseFloat(e)>Number.parseFloat(n);case"geq":return Number.parseFloat(e)>=Number.parseFloat(n);default:return n===e}}}},Imag.sort=function(n){var e=new I;return Object.keys(n).sort(function(n,e){return n.charCodeAt(0)-e.charCodeAt(0)}).forEach(function(t){e[t]=n[t]}),e},Imag.insert=function(n,e){Object.keys(e).forEach(function(t){n[t]?n[t]+=e[t]:n[t]=e[t],n[t]||delete n[t]})},Imag.clear=function(n){Object.keys(n).forEach(function(e){delete n[e]})},Imag.pow=function(n,e){Object.keys(n).forEach(function(t){e?n[t]*=e:delete n[t]})},Imag.akin=function(n,e){return Object.keys(n).toString()==Object.keys(e).toString()},Imag.equals=function(n,e){return JSON.stringify(n)==JSON.stringify(e)},Imag.empty=function(n){return 0==Object.keys(n).length},Imag.sortFunc=function(n,e){for(var t=Object.keys(n),r=Object.keys(e),a=Math.min(t.length,r.length),i=0;a>i;i++){if(t[i]<r[i])return-1;if(t[i]>r[i])return 1}var u=t.length-r.length;if(u)return u;for(var i=0;a>i;i++)if(u=n[t[i]]-e[r[i]])return u;return 0},Imag.strSortFunc=function(n,e){for(var t=Math.min(n.length,e.length),r=0;t>r;r++){if(n[r]<e[r])return-1;if(n[r]>e[r])return 1}return n.length-e.length},Imag.strSort=function(n){return n.split("").sort(function(n,e){return n.charCodeAt(0)-e.charCodeAt(0)}).reduce(function(n,e){return n+e},"")},Imag.strParse=function(n){for(var e=new I,t=0;t<n.length;t++){var r=n[t];e[r]?e[r]++:e[r]=1}return e},Imag.strValue=function(n){for(var e=1,t=0;t<n.length;t++)e*=n.charCodeAt(0);return e},Imag.len=function(n){return Object.keys(n).length},Imag.clone=function(n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},new I)},Imag.string=function(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return e+(1==r?t:t+"^"+r)},"")},Lex.F={O:0,E:1,X:2,N:3,L:7},Lex.T=function(n,e){this.flag=n,this.code=e,this.inv=!1},Lex.G=function(n,e){this.exp=e,this.plu=n,this.test=function(n){return this.exp.test(n)}},Lex.SPAC=new Lex.G(!0,/^\s$/),Lex.BRAC=[new Lex.G(!1,/^\(|\[|\{$/),new Lex.G(!1,/^\)|\]|\}$/)],Lex.GRAM=[new Lex.G(!1,/^\+|\-|\*|\/$/),new Lex.G(!1,/^\^$/),new Lex.G(!1,/^[a-zA-Z]$/),new Lex.G(!0,/^[0-9]|\,|\.$/)],Lex.prep=function(n){return n=n.replace(/�/g,"^2"),n=n.replace(/�/g,"^3"),n=n.replace(/\u00B2/g,"^2"),n=n.replace(/\u00B3/g,"^3"),n=n.replace(/,/g,".")},Lex.iter=function(n){for(var e=[],t=this.prep(n).split("");t.length>0;){var r=0,a="";if(this.SPAC.test(t[0])){do t.shift();while(this.SPAC.test(t[0]))}else if(this.BRAC[0].test(t[0])){t.shift(),a="",r=this.F.L;for(var i=1,u="";i>0;){if(a+=u,0==t.length)throw")";u=t.shift(),i+=this.BRAC[0].test(u)?1:this.BRAC[1].test(u)?-1:0}e.push(new this.T(r,a))}else{for(;r<this.GRAM.length;){var s=this.GRAM[r];if(s.test(t[0]))do a=a.concat(t.shift());while(s.plu&&s.test(t[0]));a.length>0?(e.push(new this.T(r,a)),r=this.GRAM.length):r++}if(0==a.length)throw t.shift()}}return this.oper(e)},Lex.oper=function(n){var e=[],t=!1;for(var r in n){if(n[r].flag==this.F.O)switch(n[r].code){case"-":n[r].inv=!n[r].inv;case"+":break;case"/":t=!0;case"*":continue;default:throw"in `Lex.oper': Operator `"+n[r].code+"' has not been implemented."}else if(n[r].flag==this.F.E){if(0==e.length)throw"in `Lex.oper': Radix ahead `"+n[r].code+"' is undefined.";var a=e.pop();if(a.flag==this.F.O)throw"in `Lex.oper': Radix is not allowed to be an `"+a.code+"' operator.";n[r].code=a.code,n[r].inv=a.inv}else t&&(n[r].inv=!(t=!1));e.push(n[r])}return e},Lex.empty=function(n){for(var e=0;e<n.length;e++)if(!this.SPAC.test(n[e]))return!1;return!0},Seman.Q=function(n,e,t){this.fact=1,this.imag=new Object,this.sums=[],void 0!==n&&(this.fact*=n),void 0!==e&&(this.imag=e),void 0!==t&&(this.sums=t),this.calc=function(){return Seman.calcQ(this)},this.ident=function(){return Seman.identQ(this)},this.string=function(){return Seman.stringQ(this)},this.pow=function(n){return Seman.powQ(this,n)}},Seman.S=function(n,e,t){this.offset=0,this.queues=[],this.expont=null,void 0!==n&&(this.offset+=n),void 0!==e&&e.length>0&&(this.queues=e),void 0!==t&&(this.expont=t),this.calc=function(){return Seman.calc(this)},this.expand=function(){return Seman.expand(this),this},this.combine=function(){return Seman.combine(this)},this.expow=function(){return Seman.expow(this)},this.akinQ=function(){return Seman.akinS2Q(this)},this.ident=function(){return Seman.identS(this)},this.string=function(){return Seman.string(this)},this.simplify=function(n){return Seman.simplify(this,n)}},Seman.present=function(n){if("string"!=typeof n)throw"`Seman.present(string)' got `"+typeof n+"' instead of `string'";var e=Syntax.present(n);return this.represent(e)},Seman.represent=function(n){var e=new this.S;return n.forEach(function(n){var t=Seman.representQ(n);Seman.constQ(t)?e.offset+=t.fact:e.queues.push(t)}),this.solidify(e)},Seman.representQ=function(n){var e=new this.Q;return e.fact=n.fact.reduce(function(n,e){return n*e},1),e.imag=Imag.strParse(n.imag),n.exps.forEach(function(n){var t=Seman.represent(n.radix),r=Seman.represent(n.power),a=t.expont;if(t.expont=r,a){var i=new Seman.S;t.expont=a,i.expont=r,i.queues.push(new Seman.Q(1,new I,[t])),t=i}e.sums.push(t)}),n.sums.forEach(function(n){var t=Seman.represent(n);e.sums.push(t)}),e},Seman.constQ=function(n){return 0==Imag.len(n.imag)&&0==n.sums.length},Seman.solidify=function(n){var e=n.expont?n.expont.calc():NaN;return 0!=n.offset||1!=n.queues.length||1!=n.queues[0].fact||0!=n.queues[0].sums||isNaN(e)?n.queues.forEach(function(n){return n.sums.map(function(n){return Seman.solidify(n)})}):(Imag.pow(n.queues[0].imag,e),n.expont=null),0!=n.offset||1!=n.queues.length||n.expont||1!=n.queues[0].fact||0!=Imag.len(n.queues[0].imag)||1!=n.queues[0].sums.length?n:this.solidify(n.queues[0].sums[0])},Seman.solidifyQ=function(n){return 1!=n.fact||0!=Imag.len(n.imag)||1!=n.sums.length||0!=n.sums[0].offset||n.sums[0].expont||1!=n.sums[0].queues.length?n:this.solidifyQ(n.sums[0].queues[0])},Seman.calc=function(n){var e=n.offset+n.queues.reduce(function(n,e){return n+Seman.calcQ(e)},0);return n.expont?Math.pow(e,this.calc(n.expont)):e},Seman.calcQ=function(n){return Object.keys(n.imag).length>0?NaN:n.fact*n.sums.reduce(function(n,e){return n*Seman.calc(e)},1)},Seman.akinS2Q=function(n){return n.expont?0==n.offset&&1==n.queues.length?!0:0!=n.offset&&0==n.queues.length:!1},Seman.powQ=function(n,e){return new this.Q(Math.pow(n.fact,e),Object.keys(n.imag).reduce(function(t,r){return t[r]=n.imag[r]*e,t},new I))},Seman.identS=function(n){return 0==n.offset&&null==n.expont&&n.queues.length?!n.queues.some(this.calcQ):!1},Seman.identQ=function(n){return n.fact*n.sums.reduce(function(n,e){return n*e.calc()},1)==1&&Imag.empty(n.imag)},Seman.string=function(n){var e=n.expont?!0:!1;return n.queues.reduce(function(n,e){var t=e.string();return n+(e.fact<0?t:"+"+t)},(e?"(":"")+n.offset)+(e?")^("+n.expont.string()+")":"")},Seman.stringQ=function(n){return n.sums.reduce(function(n,e){return n+"("+e.string()+")"},""+n.fact+Imag.string(n.imag))},Seman.clone=function(n){var e=new Seman.S;return e.offset=n.offset,e.queues=n.queues.map(Seman.cloneQ),e.expont=n.expont?Seman.clone(n.expont):null,e},Seman.cloneQ=function(n){var e=new Seman.Q;return e.fact=n.fact,e.imag=Imag.clone(n.imag),e.sums=n.sums.map(Seman.clone),e},Seman.simplify=function(n,e){do n=n.expand(),n=n.combine(),n=n.expow();while(--e>0);return n},Seman.expand=function(n){for(var e=0;e<n.queues.length;){var t=Seman.extract(n.queues[e]);if(Imag.clear(n.queues[e].imag),n.queues[e].fact=1,n.queues[e].ident()){if(t.expont)throw"`expand': `s0.expont' must be `null'.";n.queues.splice(e,1),n.offset+=t.offset,n.queues=t.queues.concat(n.queues),e+=t.queues.length}else 1!=t.calc()&&n.queues[e].sums.push(t),e++}},Seman.extract=function(n){for(var e=new this.S(0,[new this.Q(n.fact,Imag.clone(n.imag))]),t=0;t<n.sums.length;)this.expand(n.sums[t]),null==n.sums[t].expont?(e=this.expansion(e,n.sums[t]),n.sums.splice(t,1)):t++;return e},Seman.expansion=function(n,e){if(null!=n.expont)throw"`expansion': `s0.expont != null'";if(null!=e.expont)throw"`expansion': `s1.expont != null'";var t=n.offset*e.offset,r=n.queues.map(function(n){return new Seman.Q(e.offset*n.fact,Imag.clone(n.imag),n.sums)}).concat(e.queues.map(function(e){return new Seman.Q(n.offset*e.fact,Imag.clone(e.imag),e.sums)}));return n.queues.forEach(function(n){e.queues.forEach(function(e){var t=new I;Imag.insert(t,n.imag),Imag.insert(t,e.imag),r.push(new Seman.Q(n.fact*e.fact,Imag.sort(t),n.sums.concat(e.sums)))})}),new this.S(t,r.filter(function(n){return 0!=n.fact}))},Seman.combine=function(n){var e=n.offset,t=[],r=void 0,a=n.expont;return a&&(a=this.combine(n.expont)),n.queues.filter(function(n){var t=Seman.calcQ(n);return isNaN(t)?!0:(e+=t,!1)}).map(function(n){return Seman.combineQ(n),n}).sort(function(n,e){return-Imag.sortFunc(n.imag,e.imag)}).forEach(function(n){void 0!=r&&Imag.equals(r.imag,n.imag)&&0==r.sums.length&&0==n.sums.length?t[0].fact+=n.fact:(t.unshift(n),r=n)}),t=t.filter(function(n){return 0!=n.fact}),Seman.solidify(new this.S(e,t,a))},Seman.combineQ=function(n){var e,t,r,a=[];e=n.sums.reduce(function(n,e,t){e=e.combine(e);var r=e.expont;e.expont=null;var a=Seman.string(e);return e.expont=r,n[a]?n[a].push(t):n[a]=[t],n},new Object),t=Object.keys(e);for(var i=0;i<t.length;i++)r=e[t[i]],r.length>1&&(a=a.concat(this.combineE(n.sums,r)));a.sort(function(n,e){return e-n}).forEach(function(e){n.sums.splice(e,1)})},Seman.combineE=function(n,e){if(e.length<2)throw"`combineE': "+e.length+"/2 indices";var t=[],r=new this.S,a=new this.S;for(a.offset=n[e[0]].offset,a.queues=n[e[0]].queues;e.length;){var i=n[e[0]].expont;i?i.expont?r.queues.push(new this.Q(1,new I,[i])):(r.offset+=i.offset,r.queues=r.queues.concat(i.queues)):r.offset++,t.push(e[0]),e.splice(0,1)}return a.expont=r,n.push(a),t},Seman.expow=function(n){n=Seman.powerfy(n);var e=n.expont?n.expont.calc():NaN;if(isNaN(e))n.expont&&n.expont.expont;else{for(var t=[];e>1;){var r=new Seman.S;r.offset=n.offset,r.queues=n.queues.map(Seman.cloneQ),t.push(r),e--}n.expont=1==e?null:new Seman.S(e),t.length&&(t.unshift(n),n=new Seman.S,n.queues.push(new Seman.Q(1,new I,t)))}return n.queues.forEach(function(n){n.sums=n.sums.map(Seman.expow)}),Seman.solidify(n)},Seman.powerfy=function(n){if(0==n.offset&&1==n.queues.length&&n.expont){for(var e=n.expont,t=n.queues[0],n=new this.S(0,[t]),r=0;r<t.sums.length;r++)t.sums[r].expont=Seman.expansion(t.sums[r].expont,Seman.clone(e));var a=e.calc();isNaN(a)?(t.sums.push(new this.S(t.fact,t.imag,Seman.clone(e))),t.fact=1,t.imag=new I):(t.fact=Math.pow(t.fact,a),Imag.pow(t.imag,a))}return n},Seman.concatS=function(n,e){return new this.S(n.offset+e.offset,n.queues.concat(e.queues))},Syntax.Q=function(){this.fact=[],this.imag="",this.exps=[],this.sums=[]},Syntax.E=function(){this.radix=[],this.power=[]},Syntax.present=function(n){if("string"!=typeof n)throw"`Syntax.present(string)' got `"+typeof n+"' instead of `string'";var e=Lex.iter(n),t=[];do{for(var r=!1;e.length>0&&e[0].flag==Lex.F.O;)e.shift().inv&&(r=!r);var a=this.pluckQ(e);a&&(r&&a.fact.unshift(-1),t.push(a))}while(e.length>0);return this.sort(t),t},Syntax.pluckQ=function(n){for(var e=new this.Q;n.length>0;)switch(n[0].flag){case Lex.F.N:var t=parseFloat(n[0].code);if(n.shift().inv){if(0==t)throw"`pluckQ' divided by 0.";t=1/t}e.fact.push(t);break;case Lex.F.X:var r=n[0].code;if(n.shift().inv){var a=new this.E;a.radix.push(this.X2Q(r)),a.power.push(this.N2Q(-1)),e.exps.push(a)}else e.imag+=r;break;case Lex.F.E:var a=new this.E;if(n[0].inv)throw"`pluckQ' Token `"+n[0]+"' is not allowed to be `inv'";a.radix=this.present(n.shift().code),a.power=this.pluckT(n),e.exps.push(a);break;case Lex.F.L:var i=this.present(n[0].code);if(n.shift().inv){var a=new this.E;a.radix=i,a.power.push(this.N2Q(-1)),e.exps.push(a)}else e.sums.push(i);break;case Lex.F.O:default:return this.emptyQ(e)?null:e}return this.emptyQ(e)?null:e},Syntax.pluckT=function(n){if(!(n.length>0))throw"`pluckT' without any token.";switch(n[0].flag){case Lex.F.N:return[this.N2Q(n.shift().code)];case Lex.F.X:return[this.X2Q(n.shift().code)];case Lex.F.E:var e=new this.E;if(n[0].inv)throw"`pluckT' Token `"+n[0]+"' is not allowed to be `inv'";return e.radix=this.present(n.shift().code),e.power=this.pluckT(n),[this.E2Q(e)];case Lex.F.L:return this.present(n.shift().code);case Lex.F.O:throw"`pluckT' invalid `flag=O'.";default:throw"`pluckT' invalid `flag=?'."}},Syntax.clean=function(n){n.forEach(Syntax.cleanQ)},Syntax.cleanQ=function(n){n.sums.forEach(Syntax.clean),n.exps.forEach(function(n){Syntax.clean(n.radix),Syntax.clean(n.power)});for(var e=0;e<n.exps.length;){var t=n.exps[e];1==t.radix.length&&1==t.power.length&&0==t.radix[0].fact.length&&t.radix[0].imag.length&&0==t.radix[0].exps.length&&0==t.radix[0].sums.length&&1==t.power.length&&1==t.power[0].fact.length&&!t.power[0].imag.length&&0==t.power[0].exps.length&&0==t.power[0].sums.length?n.exps.splice(e,1):e++}},Syntax.N2Q=function(n){var e=new this.Q;return e.fact.push(n),e},Syntax.X2Q=function(n){var e=new this.Q;return e.imag=n,e},Syntax.E2Q=function(n){var e=new this.Q;return e.exps.push(n),e},Syntax.sort=function(n){n.forEach(function(n){Syntax.sortQ(n)}),n.sort(function(n,e){return Imag.strSortFunc(n.imag,e.imag)})},Syntax.sortQ=function(n){n.sums.forEach(function(n){Syntax.sort(n)}),n.fact.sort(function(n,e){return n-e}),n.imag=Imag.strSort(n.imag),n.exps.sort(function(n,e){return Syntax.valueE(n)-Syntax.valueE(e)}),n.sums.sort(function(n,e){return Syntax.value(n)-Syntax.value(e)})},Syntax.value=function(n){return n.reduce(function(n,e){return n+Syntax.valueQ(e)},0)},Syntax.valueE=function(n){return Math.pow(16536421.3572347+this.value(n.radix),this.value(n.power))},Syntax.valueQ=function(n){return n.fact.reduce(function(n,e){return n*e},1)*Imag.strValue(n.imag)*n.exps.reduce(function(n,e){return n*Syntax.valueE(e)},1)*n.sums.reduce(function(n,e){return n*Syntax.value(e)},1)},Syntax.emptyQ=function(n){return 0==n.fact.length&&0==n.imag.length&&0==n.exps.length&&0==n.sums.length},Syntax.string=function(n){var e="";if(n.length){e+=this.stringQ(n[0]);for(var t=1;t<n.length;t++){var r=n[t].fact.reduce(function(n,e){return n*e},1),a=this.stringQ(n[t]);e+=0>r?a:"+"+a}}return e},Syntax.stringQ=function(n){var e="";if(n.fact.length){e+=n.fact[0];for(var t=1;t<n.fact.length;t++)e+="*"+n.fact[t]}return e+=n.imag,e+=n.exps.reduce(function(n,e){return n+Syntax.stringE(e)},""),e+=n.sums.reduce(function(n,e){return n+"("+Syntax.string(e)+")"},"")},Syntax.stringE=function(n){return"("+Syntax.string(n.radix)+")^("+Syntax.string(n.power)+")"};